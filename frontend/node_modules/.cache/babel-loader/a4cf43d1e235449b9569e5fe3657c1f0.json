{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ADMIN\\\\mobileshop\\\\frontend\\\\src\\\\screens\\\\ProductScreen.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link, useParams, useNavigate } from 'react-router-dom';\nimport { Row, Col, Form, ListGroup, Card, Button, ListGroupItem, FormLabel } from 'react-bootstrap';\nimport Rating from '../components/Rating';\nimport Message from '../components/Message';\nimport Loader from '../components/Loader';\nimport { listProductsDetails, createProductReview } from '../actions/productActions';\nimport '../Css/ProductScreen.css';\nimport ReactImageMagnify from 'react-image-magnify';\nimport { PRODUCT_CREATE_REVIEW_RESET } from '../constants/productConstants';\n\nconst ProductScreen = () => {\n  const history = useNavigate();\n  const [qty, setQty] = useState(1);\n  const [rating, setRating] = useState(0);\n  const [comment, setComment] = useState(\"\");\n  const dispatch = useDispatch();\n  const num = useParams();\n  const userLogin = useSelector(state => state.userLogin);\n  const {\n    userInfo\n  } = userLogin;\n  const productDetails = useSelector(state => state.productDetails);\n  const {\n    loading,\n    error,\n    product\n  } = productDetails;\n  const productReviewCreate = useSelector(state => state.productReviewCreate);\n  const {\n    success: successProductReview,\n    error: errorProductReview\n  } = productReviewCreate;\n  useEffect(() => {\n    if (successProductReview) {\n      alert('Review Submitted!');\n      setRating(0);\n      setComment('');\n      dispatch({\n        type: PRODUCT_CREATE_REVIEW_RESET\n      });\n    }\n\n    dispatch(listProductsDetails(num.id));\n  }, [dispatch, num.id]); // eslint-disable-next-line\n\n  const addToCartHandler = () => {\n    history(`/cart/${num.id}?qty=${qty}`);\n  };\n\n  const submitHandler = e => {\n    e.preventdefault();\n    dispatch(createProductReview(num.id, {\n      rating,\n      comment\n    }));\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Link, {\n    className: \"btn btn-dark my-3\",\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, \"Go Back\"), loading ? /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 24\n    }\n  }) : error ? /*#__PURE__*/React.createElement(Message, {\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 45\n    }\n  }, error) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"perimeter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(ReactImageMagnify, {\n    smallImage: {\n      value: '',\n      alt: product.name,\n      isFluidWidth: true,\n      src: product.image\n    },\n    largeImage: {\n      src: product.image,\n      width: 800,\n      height: 744\n    },\n    isHintEnabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 37\n    }\n  })))), /*#__PURE__*/React.createElement(Col, {\n    md: 5,\n    className: \"product-adj\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(ListGroup, {\n    variant: \"flush\",\n    className: \"list-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(ListGroupItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 37\n    }\n  }, \" \", product.name)), /*#__PURE__*/React.createElement(Rating, {\n    value: product.rating,\n    text: `${product.numReviews} reviews`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(ListGroupItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 33\n    }\n  }, \"Price: $\", product.price), /*#__PURE__*/React.createElement(ListGroupItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 33\n    }\n  }, \"Description: $\", product.description))), /*#__PURE__*/React.createElement(Col, {\n    md: 4,\n    className: \"C-pad\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: \"Cart\",\n    fluid: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(ListGroup, {\n    variant: \"flush\",\n    className: \"cart-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 45\n    }\n  }, \"Price:\"), /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 49\n    }\n  }, \" $\", product.price)))), /*#__PURE__*/React.createElement(ListGroup.Item, {\n    className: \"list-group-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 45\n    }\n  }, \"Price:\"), /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 45\n    }\n  }, product.countInStock > 0 ? 'In stock' : 'Not in stock'))), product.countInStock > 0 && /*#__PURE__*/React.createElement(ListGroupItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 49\n    }\n  }, \"Qty\"), /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 53\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"number\",\n    min: 1,\n    max: product.countInStock,\n    step: 1,\n    value: qty,\n    onChange: e => setQty(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 57\n    }\n  }))))), /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: addToCartHandler,\n    className: \"btn-block btnAdt\",\n    type: \"Button\",\n    disabled: product.countInStock === 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 41\n    }\n  }, \" Add to Cart\"))))))), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 21\n    }\n  }, \"Reviews\"), product.reviews.length === 0 && /*#__PURE__*/React.createElement(Message, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 54\n    }\n  }, \"No Reviews\"), /*#__PURE__*/React.createElement(ListGroup, {\n    variant: \"flush\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 17\n    }\n  }, product.reviews.map(review => /*#__PURE__*/React.createElement(ListGroupItem, {\n    key: review._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 29\n    }\n  }, review.name), /*#__PURE__*/React.createElement(Rating, {\n    value: review.rating,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 29\n    }\n  }, review.createdAt.substring(0, 10)), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 29\n    }\n  }, review.comment))), /*#__PURE__*/React.createElement(ListGroupItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 14\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 21\n    }\n  }, \"Write a Customer Review\"), errorProductReview && /*#__PURE__*/React.createElement(Message, {\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 44\n    }\n  }, errorProductReview), userInfo ? /*#__PURE__*/React.createElement(Form, {\n    onSubmit: submitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 34\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"rating\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 25\n    }\n  }, \"Rating\"), /*#__PURE__*/React.createElement(Form.Control, {\n    as: \"select\",\n    value: rating,\n    onChange: e => setRating(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 29\n    }\n  }, \" Select...\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 29\n    }\n  }, \" 1 - Poor\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 29\n    }\n  }, \" 2 - Fair\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 29\n    }\n  }, \" 3 - Good\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 29\n    }\n  }, \" 4 - Very Good\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 29\n    }\n  }, \" 5 - Excellent\"))), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"comment\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 29\n    }\n  }, \"Comment\"), /*#__PURE__*/React.createElement(Form.Control, {\n    as: \"textarea\",\n    row: \"3\",\n    value: comment,\n    onChange: e => setComment(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 28\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    variant: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 25\n    }\n  }, \"Submit\")) : /*#__PURE__*/React.createElement(Message, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 21\n    }\n  }, \"  Please\", /*#__PURE__*/React.createElement(Link, {\n    to: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 26\n    }\n  }, \" sign in\"), \" to Write a review  \", ' '))))));\n};\n\nexport default ProductScreen;","map":{"version":3,"sources":["C:/Users/ADMIN/mobileshop/frontend/src/screens/ProductScreen.js"],"names":["React","useState","useEffect","useDispatch","useSelector","Link","useParams","useNavigate","Row","Col","Form","ListGroup","Card","Button","ListGroupItem","FormLabel","Rating","Message","Loader","listProductsDetails","createProductReview","ReactImageMagnify","PRODUCT_CREATE_REVIEW_RESET","ProductScreen","history","qty","setQty","rating","setRating","comment","setComment","dispatch","num","userLogin","state","userInfo","productDetails","loading","error","product","productReviewCreate","success","successProductReview","errorProductReview","alert","type","id","addToCartHandler","submitHandler","e","preventdefault","smallImage","value","alt","name","isFluidWidth","src","image","largeImage","width","height","isHintEnabled","numReviews","price","description","countInStock","target","reviews","length","map","review","_id","createdAt","substring"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Link, useParams, useNavigate } from 'react-router-dom'\r\nimport { Row, Col, Form, ListGroup, Card, Button, ListGroupItem, FormLabel } from 'react-bootstrap'\r\nimport Rating from '../components/Rating'\r\nimport Message from '../components/Message'\r\nimport Loader from '../components/Loader'\r\nimport { listProductsDetails, createProductReview } from '../actions/productActions'\r\nimport '../Css/ProductScreen.css'\r\nimport ReactImageMagnify from 'react-image-magnify'\r\nimport { PRODUCT_CREATE_REVIEW_RESET } from '../constants/productConstants'\r\n\r\nconst ProductScreen = () => {\r\n    const history = useNavigate()\r\n    const [qty, setQty] = useState(1)\r\n    const [rating, setRating] = useState(0)\r\n    const [comment, setComment] = useState(\"\")\r\n\r\n\r\n    const dispatch = useDispatch()\r\n    const num = useParams()\r\n\r\n    const userLogin = useSelector(state => state.userLogin)\r\n    const { userInfo } = userLogin\r\n\r\n    const productDetails = useSelector(state => state.productDetails)\r\n    const { loading, error, product } = productDetails\r\n\r\n    const productReviewCreate = useSelector(state => state.productReviewCreate)\r\n    const {\r\n        success: successProductReview,\r\n        error: errorProductReview }\r\n        = productReviewCreate\r\n\r\n    useEffect(() => {\r\n        if(successProductReview)\r\n        {\r\n            alert('Review Submitted!')\r\n            setRating(0)\r\n            setComment('')\r\n            dispatch({type:PRODUCT_CREATE_REVIEW_RESET})\r\n        }\r\n        dispatch(listProductsDetails(num.id))\r\n    }, [dispatch, num.id])\r\n\r\n    // eslint-disable-next-line\r\n\r\n    const addToCartHandler = () => {\r\n        history(`/cart/${num.id}?qty=${qty}`)\r\n    }\r\n\r\n    const submitHandler = (e) => {\r\n            e.preventdefault()\r\n            dispatch(createProductReview(num.id,{\r\n                rating, \r\n                comment\r\n            }))\r\n    } \r\n\r\n\r\n\r\n    return (\r\n        <>\r\n            <Link className='btn btn-dark my-3' to='/'>\r\n                Go Back\r\n            </Link>\r\n            {loading ? <Loader /> : error ? <Message variant='danger'>{error}</Message> : (\r\n                <>\r\n                    <Row>\r\n                        <Col md={3} >\r\n                            <div className=\"perimeter\">\r\n                                <div className=\"image\">\r\n\r\n                                    <ReactImageMagnify {...{\r\n                                        smallImage: {\r\n                                            value: '',\r\n                                            alt: product.name,\r\n                                            isFluidWidth: true,\r\n                                            src: product.image\r\n                                        },\r\n                                        largeImage: {\r\n                                            src: product.image,\r\n                                            width: 800,\r\n                                            height: 744\r\n                                        },\r\n                                        isHintEnabled: true\r\n                                    }} />\r\n                                </div>\r\n                            </div>\r\n                        </Col>\r\n\r\n                        <Col md={5} className='product-adj'>\r\n                            <ListGroup variant='flush' className='list-group'>\r\n                                <ListGroupItem>\r\n                                    <h3> {product.name}</h3>\r\n                                </ListGroupItem>\r\n                                <Rating value={product.rating} text={`${product.numReviews} reviews`} />\r\n\r\n                                <ListGroupItem>\r\n                                    Price: ${product.price}\r\n                                </ListGroupItem>\r\n\r\n                                <ListGroupItem>\r\n                                    Description: ${product.description}\r\n                                </ListGroupItem>\r\n                            </ListGroup>\r\n                        </Col>\r\n\r\n                        <Col md={4} className=\"C-pad\">\r\n                            <Card className='Cart' fluid>\r\n                                <ListGroup variant='flush' className='cart-group'>\r\n                                    <ListGroup.Item>\r\n                                        <Row>\r\n                                            <Col>\r\n                                                Price:\r\n                                            </Col>\r\n\r\n                                            <Col>\r\n                                                <strong> ${product.price}</strong>\r\n                                            </Col>\r\n                                        </Row>\r\n                                    </ListGroup.Item>\r\n\r\n                                    <ListGroup.Item className='list-group-3'>\r\n                                        <Row>\r\n                                            <Col>\r\n                                                Price:\r\n                                            </Col>\r\n\r\n                                            <Col>\r\n                                                {product.countInStock > 0 ? 'In stock' : 'Not in stock'}\r\n                                            </Col>\r\n                                        </Row>\r\n                                    </ListGroup.Item>\r\n                                    {product.countInStock > 0 && (\r\n                                        <ListGroupItem>\r\n                                            <Row>\r\n                                                <Col>Qty</Col>\r\n                                                <Col>\r\n                                                    <Form>\r\n\r\n                                                        <input type=\"number\" min={1} max={product.countInStock} step={1} value={qty}\r\n                                                            onChange={(e) => setQty(e.target.value)} />\r\n\r\n                                                        {/*   <option >Select</option>\r\n                                {[...Array(product.countInStock).keys()].map((x) => (\r\n                                    <option key= { x + 1} value= {x + 1}>\r\n                                        { x + 1}\r\n                                    </option>\r\n                                    \r\n                                )) */ }\r\n                                                    </Form>\r\n                                                </Col>\r\n                                            </Row>\r\n                                        </ListGroupItem>\r\n                                    )}\r\n                                    <ListGroup.Item>\r\n                                        <Button\r\n                                            onClick={addToCartHandler}\r\n                                            className='btn-block btnAdt'\r\n                                            type='Button'\r\n                                            disabled={product.countInStock === 0}\r\n                                        > Add to Cart\r\n                                        </Button>\r\n                                    </ListGroup.Item>\r\n                                </ListGroup>\r\n                            </Card>\r\n                        </Col>\r\n                    </Row>\r\n\r\n                </>\r\n            )}\r\n\r\n            <Row>\r\n                <Col md={6}>\r\n                    <h2>Reviews</h2>\r\n                    {product.reviews.length === 0 && <Message>No Reviews</Message>}\r\n                <ListGroup variant='flush'>\r\n                    {product.reviews.map(review => (\r\n                        <ListGroupItem key={review._id}>\r\n                            <strong>{review.name}</strong>\r\n                            <Rating value ={review.rating}></Rating>\r\n                            <p>{review.createdAt.substring(0, 10)}</p>\r\n                            <p>{review.comment}</p>\r\n                        </ListGroupItem> \r\n                    ))}\r\n             \r\n             <ListGroupItem >\r\n                    <h2>Write a Customer Review</h2>\r\n                    {errorProductReview && <Message variant=\"danger\">{errorProductReview}</Message>}\r\n                    {userInfo ? (<Form onSubmit={submitHandler}>\r\n                        <Form.Group controlId= 'rating'>\r\n                        <Form.Label>Rating</Form.Label>\r\n                        <Form.Control as='select' value={rating} onChange={(e) => setRating(e.target.value)}\r\n                        >\r\n                            <option value=''> Select...</option>\r\n                            <option value='1'> 1 - Poor</option>\r\n                            <option value='2'> 2 - Fair</option>\r\n                            <option value='3'> 3 - Good</option>\r\n                            <option value='4'> 4 - Very Good</option>\r\n                            <option value='5'> 5 - Excellent</option>\r\n                           \r\n                        </Form.Control>\r\n                        </Form.Group>\r\n\r\n                        <Form.Group controlId='comment'>\r\n                            <Form.Label>Comment</Form.Label>\r\n                           <Form.Control as='textarea' row=\"3\" value={comment} \r\n                           onChange={(e) => setComment(e.target.value)}\r\n                           >\r\n                           </Form.Control>\r\n                        </Form.Group>\r\n                        <Button type='submit' variant='primary'>Submit</Button>\r\n                    </Form>\r\n                    ) : (\r\n                    <Message>  Please   \r\n                         <Link to='/login'> sign in</Link> to Write a review  {' '}\r\n                        </Message>\r\n                        )}\r\n                </ListGroupItem>\r\n                </ListGroup>\r\n             \r\n                </Col>\r\n\r\n            </Row>\r\n        </>\r\n\r\n    )\r\n\r\n\r\n}\r\n\r\nexport default ProductScreen"]},"metadata":{},"sourceType":"module"}